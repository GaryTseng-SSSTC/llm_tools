
<!DOCTYPE html>
<html lang="zh-Hant" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenSpec 使用指南 - 完整教學手冊</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/preline@2.3.0/dist/preline.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Noto Sans TC', 'Inter', sans-serif;
        }
        
        .bg-pattern {
            background-image: radial-gradient(circle at 1px 1px, rgb(148 163 184) 1px, transparent 0);
            background-size: 24px 24px;
        }
        
        .glass-effect {
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .floating-animation {
            animation: floating 6s ease-in-out infinite;
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .fade-in-up {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }
        
        .fade-in-up.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .step-card {
            transition: all 0.3s ease;
        }
        
        .step-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        
        .dark .step-card:hover {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }
    </style>
<script src="https://felo.ai/js/iframe.js?v=1760851823178"></script>
 <style>
* {
  scrollbar-width: thin !important;
  scrollbar-color: #bfc5ce transparent !important;
}
*::-webkit-scrollbar {
  width: 6px !important;
}
*::-webkit-scrollbar-thumb {
  background-color: #bfc5ce !important;
  border-radius: 9999px !important;
}
*::-webkit-scrollbar-track {
  background-color: transparent !important;
  border-radius: 9999px !important;
}
</style></head>
<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 bg-white/80 dark:bg-gray-900/80 glass-effect border-b border-gray-200 dark:border-gray-700">
        <div class="max-w-7xl mx-auto px-6 sm:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-code-branch text-2xl text-indigo-600 dark:text-indigo-400"></i>
                        <span class="text-xl font-bold text-gray-900 dark:text-white">OpenSpec</span>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#overview" class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">概覽</a>
                    <a href="#steps" class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">詳細步驟</a>
                    <a href="#workflow" class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">工作流程</a>
                    <a href="#troubleshooting" class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">疑難排解</a>
                </div>
                <button id="theme-toggle" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
                    <i class="fas fa-sun hidden dark:inline text-lg"></i>
                    <i class="fas fa-moon dark:hidden text-lg"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="pt-32 pb-20 relative overflow-hidden">
        <div class="absolute inset-0 bg-pattern opacity-5 dark:opacity-10"></div>
        <div class="absolute inset-0 bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-900 dark:to-indigo-900/20"></div>
        
        <div class="relative max-w-7xl mx-auto px-6 sm:px-8">
            <div class="text-center">
                <div class="floating-animation inline-block mb-8">
                    <div class="w-24 h-24 mx-auto bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-2xl">
                        <i class="fas fa-rocket text-white text-3xl"></i>
                    </div>
                </div>
                
                <h1 class="text-5xl md:text-6xl lg:text-7xl font-bold mb-8">
                    <span class="gradient-text">OpenSpec 完整指南</span>
                </h1>
                
                <p class="text-xl md:text-2xl text-gray-600 dark:text-gray-300 max-w-4xl mx-auto mb-12 leading-relaxed">
                    以 Step by Step 方式引導您如何使用 OpenSpec 建立一項需求變更<br>
                    從提案、審閱到封存的完整流程教學
                </p>
                
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                    <a href="#steps" class="inline-flex items-center px-8 py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-semibold transition-all shadow-lg hover:shadow-xl hover:scale-105">
                        <i class="fas fa-play mr-3"></i>
                        開始學習
                    </a>
                    <a href="#workflow" class="inline-flex items-center px-8 py-4 bg-white dark:bg-gray-800 text-indigo-600 dark:text-indigo-400 border-2 border-indigo-600 dark:border-indigo-400 rounded-xl font-semibold hover:bg-indigo-50 dark:hover:bg-gray-700 transition-all">
                        <i class="fas fa-diagram-project mr-3"></i>
                        查看流程圖
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Overview Section -->
    <section id="overview" class="py-20 bg-white dark:bg-gray-800">
        <div class="max-w-7xl mx-auto px-6 sm:px-8">
            <div class="text-center mb-16 fade-in-up">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6">
                    什麼是 OpenSpec？
                </h2>
                <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
                    OpenSpec 是一個強大的需求管理工具，幫助開發團隊更好地管理需求變更流程
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-8 mb-16">
                <div class="step-card bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-700 dark:to-gray-600 p-8 rounded-2xl">
                    <div class="w-16 h-16 bg-blue-500 rounded-xl flex items-center justify-center mb-6">
                        <i class="fas fa-lightbulb text-white text-2xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">提案階段</h3>
                    <p class="text-gray-600 dark:text-gray-300">建立需求變更提案，定義具體需求和實作任務</p>
                </div>

                <div class="step-card bg-gradient-to-br from-green-50 to-emerald-50 dark:from-gray-700 dark:to-gray-600 p-8 rounded-2xl">
                    <div class="w-16 h-16 bg-green-500 rounded-xl flex items-center justify-center mb-6">
                        <i class="fas fa-cogs text-white text-2xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">實作階段</h3>
                    <p class="text-gray-600 dark:text-gray-300">依照任務清單逐步實作，與 AI 工具協作開發</p>
                </div>

                <div class="step-card bg-gradient-to-br from-purple-50 to-violet-50 dark:from-gray-700 dark:to-gray-600 p-8 rounded-2xl">
                    <div class="w-16 h-16 bg-purple-500 rounded-xl flex items-center justify-center mb-6">
                        <i class="fas fa-archive text-white text-2xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">封存階段</h3>
                    <p class="text-gray-600 dark:text-gray-300">完成變更後封存至正式規格，保持文檔同步</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Detailed Steps Section -->
    <section id="steps" class="py-20 bg-gray-50 dark:bg-gray-900">
        <div class="max-w-7xl mx-auto px-6 sm:px-8">
            <div class="text-center mb-16 fade-in-up">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6">
                    詳細操作步驟
                </h2>
                <p class="text-xl text-gray-600 dark:text-gray-300">
                    跟著以下步驟，您可以照抄範例指令與提示語操作
                </p>
            </div>

            <!-- Step 0 -->
            <div class="mb-16 fade-in-up">
                <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden">
                    <div class="bg-gradient-to-r from-red-500 to-orange-500 px-8 py-6">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mr-4">
                                <span class="text-white font-bold text-xl">0</span>
                            </div>
                            <h3 class="text-2xl font-bold text-white">準備環境（一次性）</h3>
                        </div>
                    </div>
                    <div class="p-8">
                        <div class="space-y-6">
                            <div class="flex items-start space-x-4">
                                <div class="w-6 h-6 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mt-1">
                                    <i class="fas fa-check text-red-600 dark:text-red-400 text-sm"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-900 dark:text-white mb-2">檢查 Node.js 版本</h4>
                                    <p class="text-gray-600 dark:text-gray-300 mb-3">需要 Node.js 版本 ≥ 20.19.0</p>
                                    <div class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4">
                                        <code class="text-sm text-gray-800 dark:text-gray-200">node --version</code>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex items-start space-x-4">
                                <div class="w-6 h-6 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mt-1">
                                    <i class="fas fa-download text-red-600 dark:text-red-400 text-sm"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-900 dark:text-white mb-2">安裝 OpenSpec CLI</h4>
                                    <div class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4">
                                        <code class="text-sm text-gray-800 dark:text-gray-200">npm install -g @fission-ai/openspec@latest</code>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex items-start space-x-4">
                                <div class="w-6 h-6 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mt-1">
                                    <i class="fas fa-check-circle text-red-600 dark:text-red-400 text-sm"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-900 dark:text-white mb-2">驗證安裝</h4>
                                    <div class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4">
                                        <code class="text-sm text-gray-800 dark:text-gray-200">openspec --version</code>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 1 -->
            <div class="mb-16 fade-in-up">
                <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden">
                    <div class="bg-gradient-to-r from-blue-500 to-cyan-500 px-8 py-6">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mr-4">
                                <span class="text-white font-bold text-xl">1</span>
                            </div>
                            <h3 class="text-2xl font-bold text-white">在專案啟用 OpenSpec（一次性）</h3>
                        </div>
                    </div>
                    <div class="p-8">
                        <div class="space-y-6">
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="font-semibold text-gray-900 dark:text-white mb-3">初始化指令</h4>
                                    <div class="space-y-3">
                                        <div class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4">
                                            <code class="text-sm text-gray-800 dark:text-gray-200">cd 你的專案路徑</code>
                                        </div>
                                        <div class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4">
                                            <code class="text-sm text-gray-800 dark:text-gray-200">openspec init</code>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-900 dark:text-white mb-3">產生的檔案結構</h4>
                                    <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4">
                                        <ul class="text-sm text-gray-700 dark:text-gray-300 space-y-2">
                                            <li><i class="fas fa-folder text-blue-500 mr-2"></i>openspec/specs/</li>
                                            <li><i class="fas fa-folder text-blue-500 mr-2"></i>openspec/changes/</li>
                                            <li><i class="fas fa-file text-blue-500 mr-2"></i>AGENTS.md</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4">
                                <div class="flex items-start space-x-3">
                                    <i class="fas fa-lightbulb text-yellow-600 dark:text-yellow-400 mt-1"></i>
                                    <div>
                                        <h5 class="font-semibold text-yellow-800 dark:text-yellow-200 mb-1">提示</h5>
                                        <p class="text-yellow-700 dark:text-yellow-300 text-sm">依提示勾選您常用的 AI 工具（如 Claude Code、Cursor、Copilot...），若有 slash commands，初始化後請重啟工具讓指令生效。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 2 -->
            <div class="mb-16 fade-in-up">
                <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden">
                    <div class="bg-gradient-to-r from-green-500 to-emerald-500 px-8 py-6">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mr-4">
                                <span class="text-white font-bold text-xl">2</span>
                            </div>
                            <h3 class="text-2xl font-bold text-white">讓 AI 建立「需求變更提案」（Proposal）</h3>
                        </div>
                    </div>
                    <div class="p-8">
                        <div class="grid md:grid-cols-2 gap-8">
                            <div>
                                <h4 class="font-semibold text-gray-900 dark:text-white mb-4">有 Slash Commands 的工具</h4>
                                <div class="space-y-4">
                                    <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-4">
                                        <h5 class="font-medium text-green-800 dark:text-green-200 mb-2">Claude Code</h5>
                                        <code class="text-sm text-green-700 dark:text-green-300">/openspec:proposal Add profile search filters</code>
                                    </div>
                                    <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-4">
                                        <h5 class="font-medium text-green-800 dark:text-green-200 mb-2">Cursor</h5>
                                        <code class="text-sm text-green-700 dark:text-green-300">/openspec-proposal Add profile search filters</code>
                                    </div>
                                    <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-4">
                                        <h5 class="font-medium text-green-800 dark:text-green-200 mb-2">GitHub Copilot</h5>
                                        <code class="text-sm text-green-700 dark:text-green-300">/openspec-proposal Add profile search filters</code>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-900 dark:text-white mb-4">無 Slash Commands 的工具</h4>
                                <div class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4">
                                    <p class="text-sm text-gray-800 dark:text-gray-200 leading-relaxed">
                                        對 AI 說：請建立一個 OpenSpec 變更提案，名稱：add-profile-filters，需求：新增依角色與團隊的檔案搜尋篩選。請生成 proposal、tasks、以及規格 Delta。
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-8 bg-green-50 dark:bg-green-900/20 rounded-lg p-6">
                            <h4 class="font-semibold text-green-800 dark:text-green-200 mb-4">預期成果（AI 會自動生成）</h4>
                            <div class="space-y-2 text-sm text-green-700 dark:text-green-300">
                                <div><i class="fas fa-folder text-green-500 mr-2"></i>openspec/changes/add-profile-filters/</div>
                                <div class="ml-4"><i class="fas fa-file text-green-500 mr-2"></i>proposal.md（為何、做什麼）</div>
                                <div class="ml-4"><i class="fas fa-file text-green-500 mr-2"></i>tasks.md（實作清單）</div>
                                <div class="ml-4"><i class="fas fa-file text-green-500 mr-2"></i>specs/.../spec.md（Delta：對既有規格的新增/修改/移除）</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 3 -->
            <div class="mb-16 fade-in-up">
                <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden">
                    <div class="bg-gradient-to-r from-purple-500 to-pink-500 px-8 py-6">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mr-4">
                                <span class="text-white font-bold text-xl">3</span>
                            </div>
                            <h3 class="text-2xl font-bold text-white">檢視與驗證變更結構</h3>
                        </div>
                    </div>
                    <div class="p-8">
                        <div class="grid md:grid-cols-3 gap-6">
                            <div class="bg-purple-50 dark:bg-purple-900/20 rounded-lg p-6">
                                <h4 class="font-semibold text-purple-800 dark:text-purple-200 mb-3">列出變更</h4>
                                <div class="bg-white dark:bg-gray-700 rounded p-3">
                                    <code class="text-sm text-gray-800 dark:text-gray-200">openspec list</code>
                                </div>
                                <p class="text-sm text-purple-600 dark:text-purple-300 mt-2">應看到 add-profile-filters</p>
                            </div>
                            
                            <div class="bg-purple-50 dark:bg-purple-900/20 rounded-lg p-6">
                                <h4 class="font-semibold text-purple-800 dark:text-purple-200 mb-3">檢視詳情</h4>
                                <div class="bg-white dark:bg-gray-700 rounded p-3">
                                    <code class="text-sm text-gray-800 dark:text-gray-200">openspec show add-profile-filters</code>
                                </div>
                                <p class="text-sm text-purple-600 dark:text-purple-300 mt-2">快速瀏覽內容</p>
                            </div>
                            
                            <div class="bg-purple-50 dark:bg-purple-900/20 rounded-lg p-6">
                                <h4 class="font-semibold text-purple-800 dark:text-purple-200 mb-3">驗證格式</h4>
                                <div class="bg-white dark:bg-gray-700 rounded p-3">
                                    <code class="text-sm text-gray-800 dark:text-gray-200">openspec validate add-profile-filters</code>
                                </div>
                                <p class="text-sm text-purple-600 dark:text-purple-300 mt-2">確保結構正確</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 4 -->
            <div class="mb-16 fade-in-up">
                <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden">
                    <div class="bg-gradient-to-r from-yellow-500 to-orange-500 px-8 py-6">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mr-4">
                                <span class="text-white font-bold text-xl">4</span>
                            </div>
                            <h3 class="text-2xl font-bold text-white">與 AI 一起修訂規格，直到對齊</h3>
                        </div>
                    </div>
                    <div class="p-8">
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-semibold text-gray-900 dark:text-white mb-4">建議的 AI 對話語句</h4>
                                <div class="bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-6">
                                    <ul class="space-y-3 text-gray-700 dark:text-gray-300">
                                        <li class="flex items-start space-x-2">
                                            <i class="fas fa-quote-left text-yellow-500 mt-1 text-sm"></i>
                                            <span>請在 Delta 中補上「角色篩選」「團隊篩選」的驗收情境（Scenario），並在 tasks.md 補上相對應任務。</span>
                                        </li>
                                        <li class="flex items-start space-x-2">
                                            <i class="fas fa-quote-left text-yellow-500 mt-1 text-sm"></i>
                                            <span>若有跨模組影響，請在 Delta 的對應 specs//spec.md 一併更新。</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-gray-900 dark:text-white mb-4">規格撰寫要點（避免 validate 失敗）</h4>
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div class="space-y-4">
                                        <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-4">
                                            <h5 class="font-medium text-green-800 dark:text-green-200 mb-2">變更區塊格式</h5>
                                            <p class="text-sm text-green-700 dark:text-green-300">需用 ADDED / MODIFIED / REMOVED</p>
                                        </div>
                                        <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4">
                                            <h5 class="font-medium text-blue-800 dark:text-blue-200 mb-2">Requirement 標題</h5>
                                            <p class="text-sm text-blue-700 dark:text-blue-300">格式：### Requirement: &lt;名稱&gt;</p>
                                        </div>
                                    </div>
                                    <div class="space-y-4">
                                        <div class="bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4">
                                            <h5 class="font-medium text-purple-800 dark:text-purple-200 mb-2">情境格式</h5>
                                            <p class="text-sm text-purple-700 dark:text-purple-300">#### Scenario: &lt;情境&gt;</p>
                                        </div>
                                        <div class="bg-red-50 dark:bg-red-900/20 rounded-lg p-4">
                                            <h5 class="font-medium text-red-800 dark:text-red-200 mb-2">需求敘述</h5>
                                            <p class="text-sm text-red-700 dark:text-red-300">用 SHALL/MUST（例如：The system SHALL ...）</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 5 -->
            <div class="mb-16 fade-in-up">
                <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden">
                    <div class="bg-gradient-to-r from-indigo-500 to-blue-500 px-8 py-6">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mr-4">
                                <span class="text-white font-bold text-xl">5</span>
                            </div>
                            <h3 class="text-2xl font-bold text-white">開始實作（依 tasks 執行）</h3>
                        </div>
                    </div>
                    <div class="p-8">
                        <div class="space-y-6">
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="font-semibold text-gray-900 dark:text-white mb-4">有 Slash Commands</h4>
                                    <div class="space-y-3">
                                        <div class="bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-4">
                                            <h5 class="font-medium text-indigo-800 dark:text-indigo-200 mb-2">Claude Code</h5>
                                            <code class="text-sm text-indigo-700 dark:text-indigo-300">/openspec:apply add-profile-filters</code>
                                        </div>
                                        <div class="bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-4">
                                            <h5 class="font-medium text-indigo-800 dark:text-indigo-200 mb-2">Cursor</h5>
                                            <code class="text-sm text-indigo-700 dark:text-indigo-300">/openspec-apply add-profile-filters</code>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-900 dark:text-white mb-4">其他工具</h4>
                                    <div class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4">
                                        <p class="text-sm text-gray-800 dark:text-gray-200">
                                            直接對 AI 說「規格已確認，請依 tasks 實作並同步更新勾選狀態」
                                        </p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6">
                                <h4 class="font-semibold text-blue-800 dark:text-blue-200 mb-3">實作過程注意事項</h4>
                                <ul class="space-y-2 text-blue-700 dark:text-blue-300">
                                    <li class="flex items-start space-x-2">
                                        <i class="fas fa-circle text-blue-500 mt-2 text-xs"></i>
                                        <span>Commit/PR 訊息可引用 Requirement 名稱或 Task 編號</span>
                                    </li>
                                    <li class="flex items-start space-x-2">
                                        <i class="fas fa-circle text-blue-500 mt-2 text-xs"></i>
                                        <span>若實作中需要改需求，先回到步驟 4 修訂 Delta，而不是直接改正式規格</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 6 -->
            <div class="mb-16 fade-in-up">
                <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden">
                    <div class="bg-gradient-to-r from-green-600 to-emerald-600 px-8 py-6">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mr-4">
                                <span class="text-white font-bold text-xl">6</span>
                            </div>
                            <h3 class="text-2xl font-bold text-white">封存變更並合併回正式規格</h3>
                        </div>
                    </div>
                    <div class="p-8">
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-semibold text-gray-900 dark:text-white mb-4">當所有任務完成、測試通過</h4>
                                <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-6">
                                    <div class="flex items-center space-x-4 mb-4">
                                        <i class="fas fa-terminal text-green-600 dark:text-green-400 text-xl"></i>
                                        <span class="font-medium text-green-800 dark:text-green-200">執行封存指令</span>
                                    </div>
                                    <div class="bg-white dark:bg-gray-700 rounded p-4">
                                        <code class="text-gray-800 dark:text-gray-200">openspec archive add-profile-filters --yes</code>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-gray-900 dark:text-white mb-4">預期結果</h4>
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-4">
                                        <div class="flex items-center space-x-2 mb-2">
                                            <i class="fas fa-merge text-green-500"></i>
                                            <h5 class="font-medium text-green-800 dark:text-green-200">合併規格</h5>
                                        </div>
                                        <p class="text-sm text-green-700 dark:text-green-300">變更 Delta 合併至 openspec/specs/</p>
                                    </div>
                                    <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-4">
                                        <div class="flex items-center space-x-2 mb-2">
                                            <i class="fas fa-archive text-green-500"></i>
                                            <h5 class="font-medium text-green-800 dark:text-green-200">標記完成</h5>
                                        </div>
                                        <p class="text-sm text-green-700 dark:text-green-300">變更資料夾移至已封存狀態</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 7 -->
            <div class="mb-16 fade-in-up">
                <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden">
                    <div class="bg-gradient-to-r from-violet-500 to-purple-600 px-8 py-6">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mr-4">
                                <span class="text-white font-bold text-xl">7</span>
                            </div>
                            <h3 class="text-2xl font-bold text-white">確認與後續</h3>
                        </div>
                    </div>
                    <div class="p-8">
                        <div class="space-y-6">
                            <div class="grid md:grid-cols-3 gap-6">
                                <div class="bg-violet-50 dark:bg-violet-900/20 rounded-lg p-6 text-center">
                                    <i class="fas fa-check-circle text-violet-500 text-3xl mb-4"></i>
                                    <h4 class="font-semibold text-violet-800 dark:text-violet-200 mb-2">確認更新</h4>
                                    <p class="text-sm text-violet-700 dark:text-violet-300">確認 openspec/specs/ 的對應 spec.md 已更新</p>
                                </div>
                                
                                <div class="bg-violet-50 dark:bg-violet-900/20 rounded-lg p-6 text-center">
                                    <i class="fas fa-code-branch text-violet-500 text-3xl mb-4"></i>
                                    <h4 class="font-semibold text-violet-800 dark:text-violet-200 mb-2">提交版控</h4>
                                    <p class="text-sm text-violet-700 dark:text-violet-300">將變更與更新後的 specs 一併提交版本控制</p>
                                </div>
                                
                                <div class="bg-violet-50 dark:bg-violet-900/20 rounded-lg p-6 text-center">
                                    <i class="fas fa-refresh text-violet-500 text-3xl mb-4"></i>
                                    <h4 class="font-semibold text-violet-800 dark:text-violet-200 mb-2">下個需求</h4>
                                    <p class="text-sm text-violet-700 dark:text-violet-300">新開一個 changes/ 資料夾重複上述流程</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Workflow Diagram Section -->
    <section id="workflow" class="py-20 bg-white dark:bg-gray-800">
        <div class="max-w-7xl mx-auto px-6 sm:px-8">
            <div class="text-center mb-16 fade-in-up">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6">
                    OpenSpec 工作流程圖
                </h2>
                <p class="text-xl text-gray-600 dark:text-gray-300">
                    視覺化呈現完整的需求變更流程
                </p>
            </div>

            <div class="bg-white dark:bg-gray-700 rounded-3xl shadow-xl p-8 mb-12">
                <div id="workflow-diagram" class="mermaid text-center" style="min-height: 600px;">
flowchart TD
    A["🚀 步驟 0: 準備環境"] --> B["📝 步驟 1: 初始化專案"]
    B --> C["💡 步驟 2: 建立提案"]
    C --> D["🔍 步驟 3: 檢視驗證"]
    D --> E{"✅ 驗證通過?"}
    E -->|No| F["🔧 步驟 4: 修訂規格"]
    F --> D
    E -->|Yes| G["⚙️ 步驟 5: 開始實作"]
    G --> H{"🏗️ 實作完成?"}
    H -->|No| I["📋 繼續執行任務"]
    I --> H
    H -->|Yes| J["📦 步驟 6: 封存變更"]
    J --> K["✨ 步驟 7: 確認後續"]
    K --> L["🔄 下個需求變更"]
    L --> C

    classDef startNode fill:#f87171,stroke:#dc2626,stroke-width:2px,color:#fff
    classDef processNode fill:#60a5fa,stroke:#2563eb,stroke-width:2px,color:#fff
    classDef decisionNode fill:#fbbf24,stroke:#d97706,stroke-width:2px,color:#000
    classDef endNode fill:#34d399,stroke:#059669,stroke-width:2px,color:#fff

    class A startNode
    class B,C,D,F,G,I,J,K processNode
    class E,H decisionNode
    class L endNode
                </div>
            </div>
        </div>
    </section>

    <!-- Troubleshooting Section -->
    <section id="troubleshooting" class="py-20 bg-gray-50 dark:bg-gray-900">
        <div class="max-w-7xl mx-auto px-6 sm:px-8">
            <div class="text-center mb-16 fade-in-up">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6">
                    常見問題速解
                </h2>
                <p class="text-xl text-gray-600 dark:text-gray-300">
                    快速解決使用過程中可能遇到的問題
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 fade-in-up">
                    <div class="w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-xl flex items-center justify-center mb-6">
                        <i class="fas fa-exclamation-triangle text-red-600 dark:text-red-400 text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">看不到 Slash Commands</h3>
                    <div class="space-y-3 text-gray-600 dark:text-gray-300">
                        <p class="flex items-start space-x-2">
                            <i class="fas fa-circle text-red-500 mt-2 text-xs"></i>
                            <span>重啟你的 AI/IDE</span>
                        </p>
                        <p class="flex items-start space-x-2">
                            <i class="fas fa-circle text-red-500 mt-2 text-xs"></i>
                            <span>在專案內執行 <code class="bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-sm">openspec update</code></span>
                        </p>
                        <p class="flex items-start space-x-2">
                            <i class="fas fa-circle text-red-500 mt-2 text-xs"></i>
                            <span>確認 <code class="bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-sm">openspec init</code> 已跑過</span>
                        </p>
                    </div>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 fade-in-up">
                    <div class="w-16 h-16 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl flex items-center justify-center mb-6">
                        <i class="fas fa-times-circle text-yellow-600 dark:text-yellow-400 text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Validate 失敗</h3>
                    <div class="space-y-3 text-gray-600 dark:text-gray-300">
                        <p class="flex items-start space-x-2">
                            <i class="fas fa-circle text-yellow-500 mt-2 text-xs"></i>
                            <span>檢查 Requirement/Scenario 格式</span>
                        </p>
                        <p class="flex items-start space-x-2">
                            <i class="fas fa-circle text-yellow-500 mt-2 text-xs"></i>
                            <span>確認包含 SHALL/MUST</span>
                        </p>
                        <p class="flex items-start space-x-2">
                            <i class="fas fa-circle text-yellow-500 mt-2 text-xs"></i>
                            <span>檢查 ADDED/MODIFIED/REMOVED 區塊</span>
                        </p>
                    </div>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 fade-in-up">
                    <div class="w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center mb-6">
                        <i class="fas fa-sync-alt text-blue-600 dark:text-blue-400 text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">換用或新增 AI 工具</h3>
                    <div class="space-y-3 text-gray-600 dark:text-gray-300">
                        <p class="flex items-start space-x-2">
                            <i class="fas fa-circle text-blue-500 mt-2 text-xs"></i>
                            <span>在專案內執行 <code class="bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-sm">openspec update</code></span>
                        </p>
                        <p class="flex items-start space-x-2">
                            <i class="fas fa-circle text-blue-500 mt-2 text-xs"></i>
                            <span>更新 AGENTS.md 與指令綁定</span>
                        </p>
                        <p class="flex items-start space-x-2">
                            <i class="fas fa-circle text-blue-500 mt-2 text-xs"></i>
                            <span>重啟相關工具</span>
                        </p>
                    </div>
                </div>
            </div>

            <div class="mt-16 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-3xl p-8 text-center fade-in-up">
                <h3 class="text-2xl font-bold text-white mb-4">需要更多協助？</h3>
                <p class="text-indigo-100 mb-6">您可以把以上步驟直接照做；若提供您的實際需求與所用工具，我可以替您產出可直接貼給 AI 的提示語與首個變更名稱建議。</p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button class="px-6 py-3 bg-white text-indigo-600 rounded-xl font-semibold hover:bg-gray-100 transition-colors">
                        <i class="fas fa-robot mr-2"></i>
                        諮詢 AI 助手
                    </button>
                    <button class="px-6 py-3 bg-indigo-400 text-white rounded-xl font-semibold hover:bg-indigo-300 transition-colors">
                        <i class="fas fa-book mr-2"></i>
                        查看文檔
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 dark:bg-gray-950 text-white py-12">
        <div class="max-w-7xl mx-auto px-6 sm:px-8">
            <div class="text-center">
                <div class="flex items-center justify-center space-x-2 mb-4">
                    <i class="fas fa-code-branch text-2xl text-indigo-400"></i>
                    <span class="text-xl font-bold">OpenSpec</span>
                </div>
                <p class="text-gray-400 mb-6">讓需求變更管理變得更簡單、更高效</p>
                <div class="border-t border-gray-800 pt-6">
                    <p class="text-sm text-gray-500">
                        © 2025 Cl Tseng. 本指南旨在幫助開發者更好地使用 OpenSpec 工具。
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Theme toggle functionality
        const themeToggle = document.getElementById('theme-toggle');
        const html = document.documentElement;

        // Initialize theme
        function initTheme() {
            const savedTheme = localStorage.getItem('theme');
            const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            const theme = savedTheme || systemTheme;
            
            if (theme === 'dark') {
                html.classList.add('dark');
            } else {
                html.classList.remove('dark');
            }
        }

        // Toggle theme
        themeToggle.addEventListener('click', () => {
            const isDark = html.classList.contains('dark');
            if (isDark) {
                html.classList.remove('dark');
                localStorage.setItem('theme', 'light');
            } else {
                html.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            }
            
            // Re-render Mermaid diagram with new theme
            setTimeout(() => {
                renderMermaidDiagram();
            }, 100);
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Fade in animation on scroll
        function handleScrollAnimation() {
            const elements = document.querySelectorAll('.fade-in-up');
            elements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const elementVisible = 150;
                
                if (elementTop < window.innerHeight - elementVisible) {
                    element.classList.add('visible');
                }
            });
        }

        // Initialize Mermaid
        function renderMermaidDiagram() {
            const isDark = html.classList.contains('dark');
            
            mermaid.initialize({
                startOnLoad: false,
                theme: isDark ? 'dark' : 'default',
                themeVariables: {
                    primaryColor: isDark ? '#60a5fa' : '#3b82f6',
                    primaryTextColor: isDark ? '#ffffff' : '#000000',
                    primaryBorderColor: isDark ? '#1e40af' : '#2563eb',
                    lineColor: isDark ? '#6b7280' : '#374151',
                    secondaryColor: isDark ? '#374151' : '#f3f4f6',
                    tertiaryColor: isDark ? '#1f2937' : '#ffffff'
                },
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true,
                    curve: 'basis'
                }
            });
            
            // Clear existing diagram
            const container = document.getElementById('workflow-diagram');
            container.innerHTML = `<pre class="mermaid">
flowchart TD
    A["🚀 步驟 0: 準備環境"] --> B["📝 步驟 1: 初始化專案"]
    B --> C["💡 步驟 2: 建立提案"]
    C --> D["🔍 步驟 3: 檢視驗證"]
    D --> E{"✅ 驗證通過?"}
    E -->|No| F["🔧 步驟 4: 修訂規格"]
    F --> D
    E -->|Yes| G["⚙️ 步驟 5: 開始實作"]
    G --> H{"🏗️ 實作完成?"}
    H -->|No| I["📋 繼續執行任務"]
    I --> H
    H -->|Yes| J["📦 步驟 6: 封存變更"]
    J --> K["✨ 步驟 7: 確認後續"]
    K --> L["🔄 下個需求變更"]
    L --> C

    classDef startNode fill:#f87171,stroke:#dc2626,stroke-width:2px,color:#fff
    classDef processNode fill:#60a5fa,stroke:#2563eb,stroke-width:2px,color:#fff
    classDef decisionNode fill:#fbbf24,stroke:#d97706,stroke-width:2px,color:#000
    classDef endNode fill:#34d399,stroke:#059669,stroke-width:2px,color:#fff

    class A startNode
    class B,C,D,F,G,I,J,K processNode
    class E,H decisionNode
    class L endNode
</pre>`;
            
            mermaid.run();
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initTheme();
            handleScrollAnimation();
            setTimeout(() => {
                renderMermaidDiagram();
            }, 500);
        });

        // Handle scroll events
        window.addEventListener('scroll', handleScrollAnimation);

        // Listen for system theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
            if (!localStorage.getItem('theme')) {
                if (e.matches) {
                    html.classList.add('dark');
                } else {
                    html.classList.remove('dark');
                }
                setTimeout(() => {
                    renderMermaidDiagram();
                }, 100);
            }
        });
    </script>
</body>
</html>